; Test the IEEE floating-point arithmetic routines.
;
; Float operands are passed in HLDE and H'L'D'E'
; and the operation code in C.
; The result is returned in HLDE

    org  0

    di
    ld   sp,2048

start:
    ld   a,c
    ld   bc,finish
    push bc
    ld   (fladdsubflag),a     ; 0/1/2/3 = addition/subtraction/multiplication/division
    cp   2
    jr   c,fladdsub
    jp   z,flmult
    cp   3
    jp   z,fldiv
    cp   4
    jp   z,fl24div
    pop  bc
finish:
    halt

include arithmetic.z
